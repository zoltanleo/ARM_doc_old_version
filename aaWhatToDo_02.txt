(продолжение списка задач)

Исправлено:
==========
- добавить в таблицу сведения о сданных анализах
- добавить в БД триггеры на вставку-обновление стоимости приема(манипуляции) в зависимости от вида и скидок
- добавить форму построения отчетности по условиям
- добавить подсказку по выписке лекарств в гриде с лекарствами

- добавить пункт в жалобы "наличие ост. мочи в уретре после микции"
- добавить пункт в жалобы "отсутствие оргазма"
- добавить пункт в жалобы "уретроррагия"
- в описание простаты добавить упоминание о выделение СПЖ при пальпации

(сделано!!!)- добавить пункт "размягчена", "контуры смазаны"  в описание простаты
- исправить размеры окон, чтобы "влезали" в экран с разрешением 1024 х 768, для следующих форм
  * лист заполнения данными визита
  * УЗИ почек и мочевого пузыря
  * лекарства ("развернутый" размер)
  * диагнозы ("развернутый" размер)
  * манипуляции ("развернутый" размер)
  * рекомендации ("развернутый" размер)
  * расписание приема врачей
  * направления на исследования
  
(сделано!)- добавить в описание формы St.localis для головки пениса "признаки рубцевания", "не изменена"   
- добавить панельку с поиском по гриду взамен стандартного
(исправлено)- !!! очень важный баг: при добавлении в проект юнита uImgBloodBioFotos.pas тут же появляются гигантские утечки памяти - переделать под другим именем
- выяснить, почему запрещено изменение табли платежей для не администратора
- при сворачивании/разворачивании окна программы в/из трей(я) и после отмены открытия окна с анкетными данными переоткрывается и отображается только главный грид - сделать, чтобы переоткрывался последний "свернутый" или над которым висит окно
(сделано!!!)- сделать в "анкетном" окне проверку на русскую раскладку, чтобы менять ее автоматически; то же самое, только английское для окна коннекта
(исправлено!!!)- при отмене ввода в "анкетном" окне или нажатии на бутон "ОК" главный грид не позиционируется на текущую запись, а переоткрывается заново
(исправлено!!!)- в УЗИ яичек неправильно отображаются опции выбора в готовом тексте
(сделано!!!)- переделать фокус в порядке: диагноз -> лечение -> манипуляции -> рекомендации
(исправлено!!!)- добавить пункт "мес" в длит.дизурического синдрома
(исправлено!!!)- при пустом гриде "визитов" бутон "Esc" не работает
(исправлено!!!)- поменять "с признаками шелушения" на "с участками шелушения" в описании локального статуса головки
- в окне данных визита при нажатии хоткея <Ctrl>+<Enter> в случае выдачи предупреждения дубликата записи и если при этом фокус находится на какой-нить кнопке, то после закрытия окна предупреждения "нажимается" кнопка, на которой фокус

(исправлено!!!)- что-то с загрузкой изображений в форме с клиниками

- "почистить" код скриптов в отчетах общего осмотра, закодировать "смещение" имеющихся данных взамен отсутствующих на датабендах для "красоты" отображения 
(сделано!!!)- добавить в скрипт создания базы добавление инфы в служебную таблицу

- (сделано)поменять шрифт символов "звездочек" на форме добавления пациента в БД на дефолтовый по типу arial.
- в справочниках разрешить вставлять/копировать/вырезать  текст из/в/в буфер обмена в эдитах
- в пустых справочниках кнопки "стоят не на месте"
- в формах с перетаскиванием данных между EhMemDataset'ами во время редактивроания данных не блокируются кнопки "перетаскивания", что вызывает бардак при их случайном нажатии
- (сделано)разрешить "простым" юзверям редактировать таблю с платежами пациентов в виде грантов в базе
- разрешить поиск по табле при выборе вида мед.услуги + "застолбить" один раз выбранный активный прайс + также "застолбить" раздел прайса 
- при одновременном коннекте из двух клиентов на одной машине к одной базе курсоры в таблях на одном клиенте блокируются(?) другим клиентом - разобраться !!!!!


@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@                                                                                                 @
@                             (ниже лежащие версии в стадии разработки)                           @
@                                                                                                 @
@           версии нумеруются по принципу v. x.y.z, где                                           @
@                                                                                                 @
@  x - принципиально новая версия с изменениями в структуре БД, требуется конвертация таблиц БД   @
@  y - изменения касаются в основном интерфейса программы                                         @  
@  z - номер рабочего билда (для тестовой отладки)                                                @
@                                                                                                 @
@                                                                                                 @ 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

ДОБАВЛЕНО ИЛИ ИСПРАВЛЕНО:

v. 4.0.27
===============
- оптимизирован DML вставки записи во временную таблицу визитов

v. 4.1 RC
===============
- временный билд для пользования на "боевой" базе

v. 4.1.01
===============
- добавлена функция обновление данных в главном и детальном гридах с сохранением позиции курсора
- обнаружен баг при последовательном сохранении из разных коннектов одного и того же визита (сервер "не находит" блоб-поля DrugMemo_Text и еще три). Если при этом Tbl_VisitBlob открыть и в ИБЭксперте, то все корректно сохраняется. Баг возможно будет поправлен в следующем билде.

v. 4.1.02
=============== 
- баг с блоб-полями исправлен изменением свойства датасета RefreshTransactionKind с tkReadTransaction на tkUpdateTransaction во всех 4 датасета TBL_VISITxxx
- исправлены параметры в настройках TpFIBDatabase (выставлено свойство [ddoStoreConnected] в False) - теперь при запуске приложение Design Time'овое соединение датабазы с БД разрывается на время Run Time
- добавлены "горячие клавиши" во все формы и упрощены их комбинации
- исправлены мелкие баги в формировании данных (УЗИ, локальный статус и проч.)
- в проект добавлен обновленный модуль слежения за утечками памяти FastMM4 (совместим с юникодными IDE)
- юнит uImgBloodBioFotos временно исключен из обращения до переработки

v. 4.1.03
===============
- юнит uImgBloodBioFotos перевоссоздан под похожим именем и включен в проект
- в некоторые формы по дефолту добавлено "принудительное" переключение раскладки клавиатуры Eng --> Rus и наоборот

v. 4.1.04
===============
- изменен диалог коннекта к БД: добавлена возможность коннектиться удаленному клиенту через алиас БД

v. 4.1.05
===============
- сменены версии компонентов: 
	FIBPlus 6.9.9
	FastReport 4.9.72
- удален из проекта CoolTrayIcon
- изменены шаблоны отчетов общего осмотра, добавлена возможность печати титульного листа амбулаторной карты
- добавлены шаблоны печати расписания врача
- добавлен всплывающий список из ранее введенных в БД ФИО
- подправлена русская dfm-ка FindDialog ЭхЛибов (была "потеряна" ссылка на OnDestroy формы, из-за чего возникали мелкие утечки памяти)

v. 4.1.06
===============
- отчетах общего осмотра пофиксено условие для отображения анализов бак.посевов
- в форме выбора лекарств исправлено отображение комба выбора формата печати только при определенных условиях
- введены номера пользовательских версий программы для "Биомеда", общего пользования и RuTracker'а
- сделано отдельное About для версии RuTracker.org
- сделаны различные вызовы бланков рекомендаций отдельно для "Биомеда"
- добавлен контроль версии БД, соответственно исправлен скрипт создания БД

v. 4.1.07
===============
- в табли TBL_VISITBLOB, TBL_VISITLABOR и TBL_VISITEXAMINE введены первичные ключи, в связи с чем в TBL_SERVICEINFO сменено значение поля VerNum с 2 на 3
- на клиенте внесены соответствующие изменения для проверки поля TBL_SERVICEINFO.VerNum при коннекте
- ShortCut'ы для редактирования пациентов и их визитов добавлены в runtime, чтобы использовать одни и теже сочетания клавиш
- в шаблоны отчетов по осмотру пациента на сифилис внесены изменения: добавлены ФИО пациента, ФИО врача и дата осмотра
- мелкие изменения в шаблонах расписания приема докторов

v. 4.1.08
===============
- смена текущей версии базы с 3 на 4
- в БД добавлены гранты для ролей ДЕРМАТОВЕНЕРОЛОГ, ГИНЕКОЛОГ и УРОЛОГ на изменения в TBL_PAYMENT для возможности на клиенте добавлять платежи пациенту
- прикручена полноценная контекстно-зависимая справка (файл должен быть Help\ARMDoctor_help.chm от корня программы)
- сменен путь настроек программы в реестре с HKCU\Software\eddocsoft\Andrology на HKCU\Software\leybasoft\Andrology (для конспирации)